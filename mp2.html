<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>MP2 Calculator</title>
    <meta name="description" content="Debt Instruments">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:title" content="Debt Instruments">
    <meta property="og:description" content="Debt Instruments">
    <meta property="og:image" content="">
    <meta property="og:type" content="website">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="manifest.json">
    <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
    <link rel="stylesheet" href="css/normalize.min.css">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/jquery.fancybox.css">
    <link rel="stylesheet" href="css/flexslider.css">
    <link rel="stylesheet" href="css/rsvp-form.min.css">
    <link rel="stylesheet" href="css/styles.min.css">
    <link rel="stylesheet" href="css/queries.css">
    <link rel="stylesheet" href="dist/node_modules/animate.css/animate.min.css">
    <link rel="stylesheet" href="dist/node_modules/font-awesome/css/font-awesome.min.css">
    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
</head>
<body id="top">
<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->
<section class="hero-mp2">
    <section class="navigation">
        <header>
            <div class="header-content">
                <div class="logo"></div>
                <div class="header-nav">
                    <nav>
                        <ul class="primary-nav">
                            <li><a href="#intro">Intro</a></li>
                            <li><a href="#stockpick">Calculator</a></li>
                        </ul>
                        <ul class="member-actions">
                            <li><a href="index.html" class="btn-white btn-small">Home</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="navicon">
                    <a class="nav-toggle" href="#"><span></span></a>
                </div>
            </div>
        </header>
    </section>
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="hero-content text-center">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-4 hidden-xs"></div>
            <div class="col-sm-4 hidden-xs text-center">
                <!-- <a href="#rsvp" class="btn btn-accent btn-large rsvp-btn">RSVP</a> -->
            </div>
            <div class="col-sm-4 hidden-xs"></div>
        </div>
    </div>
    <div class="down-arrow floating-arrow"><a href="#stockpick"><i class="fa fa-angle-down"></i></a></div>
</section>



<section id="intro">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h1 class="header">Modified Pagibig 2</h1>
            </div>
        </div>

        <div class="col-md-3 hidden-sm hidden-xs"></div>
        <div class="row">
            <div class="col-md-6">
                <p>
                    The Modified Pag-IBIG 2 (MP2) program is a voluntary savings and investment program in the Philippines offered by the Home Development Mutual Fund (HDMF), commonly known as Pag-IBIG Fund. 

                </p>
                <p>
                    MP2 is an additional savings option for Pag-IBIG members looking to earn higher returns on their savings compared to the regular Pag-IBIG savings program.
                </p>
            </div>

            <div class=""></div>
            <div class="col-md-3 hidden-sm hidden-xs"></div>
        </div>
    </div>

</section>

<section id="stockpick" class="entourage section-padding">
    <div class="container">
        <div class="row">
            <div class="col-md-12 text-center">
                <h2 class="header">MP2 Calculator</h2>
            </div>
        </div>

        <div class="col-md-3 hidden-sm hidden-xs"></div>
        <div class="row">
            <div class="col-md-6">
                <p>
                    Discover the power of smart savings with our MP2 Calculator, designed to help you maximize your earnings through the Pag-IBIG Fund's Modified Pag-IBIG II Savings Program. Whether you're planning for your dream home, a secure retirement, or your child's education, our calculator takes the guesswork out of your financial journey.
                </p>
                <p>
                    Calculate your potential returns based on your Average Accumulated Monthly Savings and watch your wealth grow steadily over time. Make informed decisions, set achievable goals, and see how your financial dreams become a reality with MP2. Start today, because your future deserves the best!"
                </p>

            </div>

            <div class=""></div>
            <div class="col-md-3 hidden-sm hidden-xs"></div>
        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <div class="input-container">
                            <label for="contribution-type">Type:</label>
                            <div class="radio-input">
                                <input type="radio" id="monthly" name="contribution-type" value="monthly" checked>
                                <label for="monthly">Monthly</label>
                                <input type="radio" id="lump-sum" name="contribution-type" value="lump-sum">
                                <label for="lump-sum">Lump Sum</label>
                            </div>

                            <label for="contribution-amount">Contribution Amount:</label>
                            <input type="number" id="contribution-amount" name="contribution-amount" placeholder="Enter amount">

                            <label for="dividend-rate">Dividend Rate (%):</label>
                            <input type="number" id="dividend-rate" name="dividend-rate" placeholder="Enter rate">

                            <button type="button" id="calculate-button">Calculate</button>
                        </div>

                        <div>
                            <h3>Computation for annual dividend payout</h3>
                        </div>
                        <div id="table-container">
                            <!-- The generated table will be placed here -->
                        </div>
                        <div>
                            <h3>Computation for compounded savings</h3>
                        </div>
                        <div id="table-container2">
                            <!-- The generated table will be placed here -->
                        </div>
                    </div>
                <div class="col-md-2"></div>

            </div>
        </div>
    </div>
</section>

<section id="video-bg" class="hidden-sm hidden-xs">
    <div id="bgndVideo" class="player"
         data-property="{videoURL:'https://youtu.be/F6gMivHKmxE',containment:'#video-bg',autoPlay:true, mute:true, showControls:false, startAt:10, stopAt:100, opacity:1}">
    </div>
    <div id="video-content">
        <h5>Learn Investing Now</h5>
        <p><a href="https://youtu.be/F6gMivHKmxE">Click here</a></p>
    </div>
</section>


<footer>
    <div class="container">
        <div class="row">
            <div class="col-sm-12 text-center content">
                <span class="to-top-wrapper"><a href="#top" class="to-top"><i class="fa fa-angle-up"></i></a></span>
                <p>Crafted by Alcaide, Donato, and Escoto with lots of <span class="fa fa-heart pulse2"></span></p>
            </div>
        </div>
    </div>
</footer>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.2.min.js"><\/script>')</script>
<script src="js/jquery.fancybox.pack.js"></script>
<script src="js/vendor/bootstrap.min.js"></script>
<script src="js/jquery.flexslider-min.js"></script>
<script src="js/jquery.mb.YTPlayer.min.js"></script>
<script src="dist/node_modules/waypoints/lib/jquery.waypoints.min.js"></script>
<script src="js/vendor/ouical.js"></script>
<script src="js/scripts.min.js"></script>
<script src="dist/node_modules/jquery.easing/jquery.easing.min.js"></script>
<script src="js/rsvp-form.min.js"></script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAaxV0rFy5wDaC7MW2nMvkIWP5eNq46jyA&callback=initHotelMap"></script>

<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-46465113-4', 'auto');
    ga('send', 'pageview');
</script>

<script>
    function renderRow(year, contributionAmount, accumulatedMonthlySavingsPerYear, cumulativeSavings, dividendPayout, totalAccumulatedValue) {
        return `
            <tr>
                <td>${year}</td>
                <td>${contributionAmount.toLocaleString("en-us")}</td>
                <td>${accumulatedMonthlySavingsPerYear.toLocaleString("en-us")}</td>
                <td>${cumulativeSavings.toLocaleString("en-us")}</td>
                <td>${dividendPayout.toLocaleString("en-us")}</td>
                <td>${totalAccumulatedValue.toLocaleString("en-us")}</td>
            </tr>
        `;
    }

    function renderTotal(year, contributionAmount, accumulatedMonthlySavingsPerYear, cumulativeSavings, dividendPayout, totalAccumulatedValue) {
        return `
            <tr>
                <td><b>Total</b></td>
                <td>${contributionAmount.toLocaleString("en-us")}</td>
                <td>${accumulatedMonthlySavingsPerYear.toLocaleString("en-us")}</td>
                <td>${cumulativeSavings.toLocaleString("en-us")}</td>
                <td><b>${dividendPayout.toLocaleString("en-us")}</b></td>
                <td><b>${totalAccumulatedValue.toLocaleString("en-us")}</b></td>
            </tr>
        `;
    }

    function renderMonthlyContribution(contributionAmount, dividendRate, compoundedMonthly = false) {
        let cumulativeSavings = 0;
        let totalAccumulatedMonthlySavings = 0
        let rows = ""
        let totalSavings = 0;
        let totalDividendPayout = 0;
        let totalAccumulatedValue = 0;
        for (var i = 1; i <= 5; i++) {
            console.log(i)
            let accumulatedMonthlySavingsPerYear = 0
            let totalAccumulatedMonthlySavings = 0
            for (var m = 0; m < 12; m++) {
                accumulatedMonthlySavingsPerYear += contributionAmount
                cumulativeSavings += contributionAmount
                totalAccumulatedMonthlySavings += cumulativeSavings
            }

            let dividendPayout = totalAccumulatedMonthlySavings / 12 * (dividendRate  / 100)
            
            totalAccumulatedValue = cumulativeSavings;
            if (compoundedMonthly) {
                totalAccumulatedValue += dividendPayout
            }
            totalDividendPayout += dividendPayout
            totalSavings += accumulatedMonthlySavingsPerYear
            
            console.log(`${contributionAmount} ${accumulatedMonthlySavingsPerYear} ${cumulativeSavings} ${totalAccumulatedMonthlySavings} ${dividendPayout}`)
            rows += renderRow(i, contributionAmount, accumulatedMonthlySavingsPerYear, cumulativeSavings, dividendPayout, totalAccumulatedValue)
            cumulativeSavings = totalAccumulatedValue;
         }

            rows += renderTotal(i, "-", totalSavings, "-", totalDividendPayout, totalAccumulatedValue)

        return rows;
    }

    function lumpSum(contributionAmount, dividendRate, compoundedMonthly = false) {
        let rows = ""
        let totalDividendPayout = 0
        let cumulativeSavings = 0;
        let totalAccumulatedValue = 0;
        let monthlySavings = contributionAmount
        for (var i = 1; i <= 5; i++) {
            cumulativeSavings += monthlySavings

            let dividendPayout = cumulativeSavings  * (dividendRate  / 100)
            totalDividendPayout += dividendPayout
            
            totalAccumulatedValue = cumulativeSavings;
            if (compoundedMonthly) {
                totalAccumulatedValue += dividendPayout
            }

            rows += renderRow(i, monthlySavings, monthlySavings, cumulativeSavings, dividendPayout, totalAccumulatedValue)
            cumulativeSavings = totalAccumulatedValue
            
            monthlySavings = 0;
        }

        rows += renderTotal(i, "-", contributionAmount, "-", totalDividendPayout, totalAccumulatedValue)

        return rows;
    }



    document.addEventListener("DOMContentLoaded", function() {
        const calculateButton = document.getElementById("calculate-button");

        calculateButton.addEventListener("click", function() {
            const contributionType = document.querySelector('input[name="contribution-type"]:checked').value;
            const contributionAmount = Number(document.getElementById("contribution-amount").value);
            const dividendRate = Number(document.getElementById("dividend-rate").value);
            let rows = renderMonthlyContribution(contributionAmount, dividendRate);

            if (contributionType == "lump-sum") {
                rows = lumpSum(contributionAmount, dividendRate);
            }

            // Create the table HTML based on the input values
            const tableHTML = `
                <table class="styled-table2">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Contribution Amount</th>
                            <th>Accumulated MS per year</th>
                            <th>Cumulative Savings</th>
                            <th>Dividend Payout</th>
                            <th>Total Accumulated Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${rows}
                    </tbody>
                </table>
            `;

            // Insert the generated table into the table-container
            const tableContainer = document.getElementById("table-container");
            tableContainer.innerHTML = tableHTML;

            // Create the table HTML based on the input values
            let rows2 = renderMonthlyContribution(contributionAmount, dividendRate, true);
            if (contributionType == "lump-sum") {
                rows2 = lumpSum(contributionAmount, dividendRate, true);
            }
            const tableHTML2 = `
                <table class="styled-table2">
                    <thead>
                        <tr>
                            <th>Year</th>
                            <th>Contribution Amount</th>
                            <th>Accumulated MS per year</th>
                            <th>Cumulative Savings</th>
                            <th>Dividend Amount</th>
                            <th>Total Accumulated Value (TAV)</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${rows2}
                    </tbody>
                </table>
            `;
            // Insert the generated table into the table-container
            const tableContainer2 = document.getElementById("table-container2");
            tableContainer2.innerHTML = tableHTML2;

        });
    });
</script>

</body>
</html>
